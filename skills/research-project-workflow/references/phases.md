# フェーズ・ステップ詳細

各ステップの詳細な実行手順。

## Phase 0: 提案

### Step 1: 提案書作成 [AI]

**review_level**: full

**目的**: クライアントの与件から論点・初期仮説を含む提案書を作成

**入力**:
- `Input/与件.md` または与件情報

**出力**:
- `Output/提案書.md`
- `Output/プロジェクトサマリ.md`（更新）

**実行手順**:
1. `skills/interview-research-proposal/SKILL.md` を読み込む
2. スキルの指示に従って提案書を作成
3. 出力先: `Output/提案書.md`
4. 提案書から論点・仮説を抽出し、初期化時に作成済みの `Output/プロジェクトサマリ.md` に書き込む。全仮説は「未検証」状態で記載

**品質チェック**:
- 論点が問い形式で記載されているか
- 初期仮説が完備な文章で記載されているか
- 見積りが複数プランで提示されているか
- プロジェクトサマリの論点・仮説が提案書と同期されているか

---

### Step 2: 提案用スライド構成設計 [AI]

**review_level**: light

**目的**: 提案書をソースに、提案・プレゼン用スライドのページ構成を MD で設計する

**入力**:
- `Output/提案書.md`

**出力**:
- `Output/スライド構成_提案.md`

**実行手順**:
1. `skills/slide-structure-designer/SKILL.md` を読み込む
2. 提案書をソースとして渡し、スキルの指示に従ってスライド構成を設計する
3. 1スライド1メッセージ・ピラミッド分割の原則に従い、スキル規定の MD フォーマットで出力する

**品質チェック**:
- 各スライドにタイトル・メッセージ・ボディが定義されているか
- 提案書の論点構造がスライドの流れに反映されているか
- 情報量に応じた分割がされているか

---

### Step 3: 初期デスクトップ調査 [AI → SubAgent]

**review_level**: light

**目的**: 提案書の論点に基づき、網羅的な初期調査を実施し、初期仮説を検証する

**担当**: AI（`desk-researcher` SubAgent経由で実行。中間出力のコンテキスト分離が目的）

**実行手順**:

1. ユーザーに以下を確認:
   - 提案書のファイルパス
   - 出力先フォルダのパス
   - Browser Use で参照したいサイト（ある場合）
2. `desk-researcher` SubAgentを起動し、以下を渡す:
   - 提案書のファイルパス
   - 出力先フォルダのパス
   - モード: `initial`
   - docxファイルがある場合はそのパス
   - 参照すべきサイト（ある場合）
3. SubAgentが内部で desk-research Skill を読み込み、調査を実行する
4. SubAgentが返却した結果を受け取る:
   - 調査レポートのファイルパス
   - 主要な発見事項
   - 仮説検証の要約

**完了条件**:
- 調査レポートが出力先フォルダに格納されている
- 仮説検証シートで全ての初期仮説の判定が記載されている
- 品質チェックリストを満たしている
- プロジェクトサマリの仮説状態が調査結果と同期されている

---

### Step 4: 提案書更新 [AI]

**review_level**: full

**目的**: 初期調査結果に基づき提案書の初期仮説を更新し、タスク・スケジュールの修正要否を判断

**入力**:
- `Output/提案書.md`（既存）
- `Input/初期調査結果.md`

**出力**:
- `Output/提案書.md`（更新）

**実行手順**:

1. `Input/初期調査結果.md`を読み込む

2. **初期仮説の更新**:
   - 調査結果と各仮説を照合
   - 仮説が**支持された**場合: 根拠・ソースを追加して補強
   - 仮説が**否定された**場合: 仮説を修正または棄却、理由を記載
   - **新たな発見**があった場合: 新しい仮説を追加

3. **タスク・スケジュールの修正要否を判断**:
   
   以下の観点で検討:
   - 調査範囲の変更が必要か（スコープ拡大/縮小）
   - インタビュー対象者像の変更が必要か
   - 追加のデスクリサーチが必要か
   - 工数・期間の見直しが必要か
   
   **修正が必要な場合**:
   - 提案書の「タスク概要」「タスク詳細」「スケジュール」セクションを更新
   - 見積りへの影響があれば「お見積り」セクションも更新

4. **クライアントへの確認事項を出力**:
   
   初期調査結果を踏まえ、プロジェクト遂行に当たり与件の中で確認しておくべき事項を抽出:

   **確認事項の観点**:
   - **与件の前提確認**: 調査で判明した事実と与件の前提に齟齬がないか
   - **スコープの明確化**: 調査範囲の境界（含める/含めない）
   - **優先順位**: 論点間の重要度、リソース配分
   - **不明点・曖昧な点**: 与件で明確でなかった点の確認
   - **意思決定事項**: クライアント判断が必要な選択肢

   **出力フォーマット**（提案書内に追加）:
   ```markdown
   ## クライアントへの確認事項

   初期調査結果を踏まえ、プロジェクト遂行に当たり以下の点を確認させてください。

   ### 与件の前提確認
   - [ ] [確認事項1]
   - [ ] [確認事項2]

   ### スコープ・優先順位
   - [ ] [確認事項]

   ### 意思決定事項
   - [ ] [選択肢を提示し、判断を仰ぐ事項]
   ```

5. `Output/提案書.md`を更新（確認事項セクションを含む）

**品質チェック**:
- 初期仮説の変更点が明確に記載されているか
- 変更の根拠（調査結果への参照）があるか
- タスク・スケジュール変更の理由が説明されているか
- クライアント確認事項が具体的で回答可能な形式になっているか
- プロジェクトサマリの論点・仮説が提案書の更新内容と同期されているか

---

### Step 5: インタビューガイド作成 [AI]

**review_level**: full

**目的**: 提案書と初期調査結果をもとに、インタビューで検証・補強すべき事項を整理し、インタビューガイドを作成

**入力**:
- `Output/提案書.md`（論点・仮説）
- `Input/初期調査結果.md`（デスクリサーチ結果）

**出力**:
- `Output/インタビューガイド.md`

**実行手順**:
1. `skills/interview-guide-creator/SKILL.md` を読み込む
2. 提案書から論点（大論点・小論点）と初期仮説を抽出
3. 初期調査結果から検証済み事項と未検証事項を整理
4. スキルの指示に従ってインタビューガイドを作成

**スキルが出力する内容**:
- インタビューの目的と調査全体における位置づけ
- 検証すべき事項（論点との対応）
- 想定インタビュー対象者（タイプ別の属性・選定理由）
- インタビュー設問（対象者タイプ別、時間配分付き）

**品質チェック**:
- 全ての大論点に対応する質問セクションがあるか
- 各質問の「検証したいこと」が明記されているか
- 初期調査で不足していた情報を埋める質問があるか
- 回答から次のアクションに繋げられる設計か

---

### Step 6: 最終報告書骨子案作成 [AI]

**review_level**: full

**目的**: 最終報告書の章立て・構成を事前に設計

**入力**:
- `Output/提案書.md`
- `Output/インタビューガイド.md`

**出力**:
- `Output/報告書骨子.md`

**構成**:
```markdown
# 報告書骨子案

## 1. エグゼクティブサマリー
[1ページで結論・示唆をまとめる]

## 2. 調査概要
- 背景・目的
- 調査スコープ
- 調査手法

## 3. [論点①に対応する章]
### 3.1 [小論点]
### 3.2 [小論点]

## 4. [論点②に対応する章]
...

## N. 結論・提言
- 主要な発見事項
- 推奨アクション

## 付録
- 調査対象企業一覧
- インタビュー対象者一覧
- 参考文献
```

---

## Phase 1: 調査

### Step 7: インタビュー対象者選定 [AI]

**review_level**: light

**目的**: 論点に基づきインタビュー対象者の候補リストを作成

**入力**:
- `Output/提案書.md`
- `Output/インタビューガイド.md`

**出力**:
- `Output/インタビュー対象者.md`

**構成**:
```markdown
# インタビュー対象者候補

## 対象者像の定義

### カテゴリA: [例: 技術専門家]
- 求める経験・知見: [具体的な条件]
- 想定人数: X名

### カテゴリB: [例: 業界プレイヤー]
...

## 候補リスト

| # | カテゴリ | 想定プロファイル | 確認したい論点 | 優先度 |
|---|----------|------------------|----------------|--------|
| 1 | A | ○○技術の研究者 | ①-1, ①-2 | 高 |
| 2 | B | △△メーカーの事業責任者 | ②-1, ③-1 | 高 |
...
```

---

### (インタビュー実施) [人間]

**担当**: 人間

**AIのアクション**:
1. インタビュー実施の案内
2. 録音・文字起こしの依頼
3. 完了報告を待つ

**完了条件**:
- 文字起こしが `Input/インタビュー/` に格納されている

---

### Step 8: インタビュー議事メモ作成 [AI]

**review_level**: full

**目的**: 文字起こしから構造化された議事録を作成

**入力**:
- `Input/インタビュー/[対象者名]_文字起こし.md`
- `Output/インタビューガイド.md`（質問リスト）

**出力**:
- `Output/議事録/[対象者名]_議事録.md`

**実行手順**:
1. `skills/interview-minutes-creator/SKILL.md` を読み込む
2. スキルの指示に従って議事録を作成
3. 複数の文字起こしがある場合は順次処理

---

### Step 9: インタビューまとめ [AI]

**review_level**: light

**目的**: 全インタビューから論点ごとに示唆を抽出

**入力**:
- `Output/議事録/` 内の全議事録
- `Output/提案書.md`（論点構造）

**出力**:
- `Output/インタビューまとめ.md`

**構成**:
```markdown
# インタビューまとめ

## 実施概要
- 実施件数: X件
- 対象者カテゴリ: A（X名）、B（X名）...

## 論点別サマリ

### 論点①: [論点名]

**主要な発見**:
- [発見1]（情報源: 対象者A, B）
- [発見2]（情報源: 対象者C）

**示唆**:
- [示唆1]
- [示唆2]

### 論点②: [論点名]
...

## 全体を通じた示唆
- [横断的な発見・示唆]
```

**品質チェック**:
- 全ての大論点に対応するサマリがあるか
- 各発見の情報源（対象者）が明記されているか
- インタビュー結果から新たな論点・仮説の変化が生じていないか確認し、プロジェクトサマリの同期が必要な変化がないか確認

---

### Step 10: デスクリサーチ [AI → SubAgent]

**review_level**: light

**目的**: インタビュー結果を踏まえ、情報が不足している領域の深掘り調査を実施する

**担当**: AI（`desk-researcher` SubAgent経由で実行。中間出力のコンテキスト分離が目的）

**実行手順**:

1. ユーザーに以下を確認:
   - 提案書、インタビューまとめ、既存調査結果のファイルパス
   - 出力先フォルダのパス
   - Browser Use で参照したいサイト（ある場合）
2. `desk-researcher` SubAgentを起動し、以下を渡す:
   - 提案書のファイルパス
   - インタビューまとめのファイルパス
   - 既存調査結果のファイルパス
   - 出力先フォルダのパス
   - モード: `detailed`
   - 追加指示: インタビューで判明したギャップを埋める深掘り調査
   - 参照すべきサイト（ある場合）
3. SubAgentが内部で desk-research Skill を読み込み、調査を実行する
4. SubAgentが返却した結果を受け取る:
   - 調査レポートのファイルパス
   - 主要な発見事項
   - 仮説検証の要約
   - 追加調査が必要な領域

**完了条件**:
- 調査レポートが出力先フォルダに格納されている
- インタビューで判明したギャップが埋められているか、未解決事項が明記されている
- 仮説検証シートが更新されている
- プロジェクトサマリの仮説状態が調査結果と同期されているか確認

---

## Phase 2: 分析・とりまとめ

### Step 11: 統合・分析 [AI]

**review_level**: full

**目的**: デスクリサーチとインタビュー結果を統合し、論点ごとに分析

**入力**:
- `Output/プロジェクトサマリ.md`（論点・仮説の検証状況、リスク、主要発見事項）
- `Output/インタビューまとめ.md`
- `Input/` 内のデスクリサーチ結果
- `Output/報告書骨子.md`

**出力**:
- `Output/分析結果.md`

**構成**:
```markdown
# 統合分析結果

## 論点①: [論点名]

### デスクリサーチからの知見
- [知見1]
- [知見2]

### インタビューからの知見
- [知見1]
- [知見2]

### 統合分析
- [分析結果]
- [示唆]

### 残論点・追加調査事項
- [あれば]

## 論点②: [論点名]
...

## 全体結論
- [主要な結論]
- [推奨アクション]
```

---

### Step 12: 報告書作成 [AI]

**review_level**: full

**目的**: 最終報告書を作成

**入力**:
- `Output/報告書骨子.md`
- `Output/分析結果.md`
- その他必要な成果物

**出力**:
- `Output/最終報告書.md`

**実行手順**:
1. 報告書骨子の構成に沿って内容を埋める
2. 分析結果を各章に配置
3. エグゼクティブサマリーを作成
4. 付録を整備

**品質チェック**:
- 論点に対する回答が明確か
- 根拠（データ・インタビュー）が示されているか
- アクショナブルな提言があるか

---

### Step 13: 報告用スライド構成設計 [AI]

**review_level**: light

**目的**: 最終報告書をソースに、報告会プレゼン用スライドのページ構成を MD で設計する

**入力**:
- `Output/最終報告書.md`（主）
- `Output/報告書骨子.md`（必要に応じて）
- `Output/分析結果.md`（必要に応じて）

**出力**:
- `Output/スライド構成.md`

**実行手順**:
1. `skills/slide-structure-designer/SKILL.md` を読み込む
2. 最終報告書をソースとして渡し、スキルの指示に従ってスライド構成を設計する
3. 1スライド1メッセージ・ピラミッド分割の原則に従い、スキル規定の MD フォーマットで出力する
4. 必要に応じてスライド制作スキルでスライド化する旨をユーザーに案内する

**品質チェック**:
- 各スライドにタイトル・メッセージ・ボディが定義されているか
- 最終報告書の論点構造と結論がスライドの流れに反映されているか
- 情報量に応じた分割がされているか
- エグゼクティブサマリーに対応するサマリスライドがあるか
